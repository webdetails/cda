<!DOCTYPE html>
<html>
  <head>
    <title>CDA Cache Manager</title>
    <link href="static/blueprint/screen.css" type="text/css" rel="stylesheet"/>
    <link href="static/cda.css" type="text/css" rel="stylesheet"/>
    <link href="cachemanager/cache.css" type="text/css" rel="stylesheet"/>
    <link href="static/jquery-ui-1.8rc3.custom.css" type="text/css" rel="stylesheet"/>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/cda.js"></script>
    <script type="text/javascript" src="cachemanager/cache.js"></script>
    <script type="text/javascript" src="static/jquery.i18n.properties.js"></script>
    <script type="text/javascript" src="static/jquery-ui-1.8rc3.custom.min.js"></script>
    <script type="text/javascript" src="previewer/dataTables/js/jquery.dataTables.js"></script>
  </head>
  <body>

    <div class='container'>     
    <!-- HEADER -->
    <div class='header span24 last'>
      <div id="tabButtons">
        <span id="scheduleButton" class="button" onclick="refreshTable()"> Scheduled Queries </span>
        <span id="cacheButton" class="button" onclick="refreshCachedOverviewTable()"> Cached Queries </span>
      </div>
    </div>
    </div>
    <div id='scheduledQueries' class='container'>
      <!-- MAIN TABLE BODY:  scheduler -->
      <div class='section span-24 last'>Scheduled Queries</div>
      <div class='span-24 last'>
        <div class="tableHeader container" id="header">
          <div class='span-7'>Name</div>
          <div class='span-5'>Parameters</div>
          <div class='span-2'>Last Execution</div>
          <div class='span-2'>Next Execution</div>
          <div class='span-2'>Cron</div>
          <div class='span-2'>Time (ms)</div>
          <div class='span-2'>Status</div>
          <div class='span-2 last'>Operations</div>
        </div>
        <div id="lines"></div>
      </div>
    </div>
    
    <div id="cachedQueries" class="container" style="display:none;" >
      
      <div id="mapInfo" class="span-24 last"> </div>
      <div id="membersInfo" class="span-24 last"></div>
      
      <div class='section span-4'>Queries in cache</div><div class='section span-1'><img id="loading" style="display:none;" src="cachemanager/loading.gif"/></div>
      <div class='last button' style='text-align:right;'> <span id="clearCacheButton" class="button"> Clear all</span> </div>
    <!-- MAIN TABLE BODY: cache -->
      <div id="cachedQueriesOverview">
        <div class='span-24 last'>
          <div class="tableHeader container" id="cachedQueriesOverviewHeader">
            <div class='span-16'>CDA Settings</div>
            <div class='span-6'>Data Access ID</div>
            <div class='span-2 last'># Queries</div>
          </div>
          <div id="cachedQueriesOverviewLines"></div>
        </div>
      </div>
      
      <div id="cachedQueriesDetail" style="display:none;">
        <div class='span-24 last'>
          <div class="tableHeader container" id="cachedQueriesHeader">
            <div class='span-9'>Query</div>
            <div class='span-5'>Parameters</div>
            <div class='span-1'>Rows</div>
            <div class='span-2'>Mem.Size</div>
            <div class='span-2'>Insertion</div>
            <div class='span-2'>Last Access</div>
            <div class='span-1'># Hits</div>
            <div class='span-2 last'>Actions</div>
          </div>
          <div id="cachedQueriesLines"></div>
        </div>
      </div>
      
    </div>
    
    <!-- FOOTER -->
  </body>
  <script>
    $(document).ready(function(){
      UI.init();
      refreshTable();
    });
  </script>
</html>
